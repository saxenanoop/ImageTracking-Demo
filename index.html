<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/aframe-extras@6.1.1/dist/aframe-extras.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/aframe-orbit-controls@1.3.0/dist/aframe-orbit-controls.min.js"></script>
  </head>
  <body style="margin: 0; overflow: hidden;">
    <a-scene
      vr-mode-ui="enabled: false"
      embedded
      renderer="colorManagement: true; physicallyCorrectLights"
      cursor="rayOrigin: mouse"
      raycaster="objects: .clickable">

      <!-- Camera with orbit controls (allows rotate/zoom) -->
      <a-entity id="cameraRig">
        <a-entity 
          id="camera" 
          camera 
          position="0 1.6 3"
          orbit-controls="
            target: #model;
            enableDamping: true;
            dampingFactor: 0.1;
            rotateSpeed:0.3;
            minDistance: 0.5;
            maxDistance: 5;
            enableZoom: true;
            enablePan: false;">
        </a-entity>
      </a-entity>

      <!-- Light -->
      <a-entity light="type: directional; intensity: 1;" position="1 3 2"></a-entity>
      <a-entity light="type: ambient; intensity: 0.5;"></a-entity>

      <!-- Assets -->
      <a-assets>
        <a-asset-item id="mymodel" src="Assets/Minecraft.glb"></a-asset-item>
      </a-assets>

      <!-- Model (initially hidden, placed on tap) -->
      <a-entity id="model" 
        gltf-model="#mymodel"
        visible="false"
        class="clickable"
        scale="0.5 0.5 0.5">
      </a-entity>
    </a-scene>

    <script>
      const scene = document.querySelector('a-scene');
      const model = document.querySelector('#model');

      scene.addEventListener('click', (e) => {
        if (!model.getAttribute('visible')) {
          // Place model at tap position
          const touchPoint = e.detail.intersection?.point;
          if (touchPoint) {
            model.setAttribute('position', touchPoint);
          } else {
            model.setAttribute('position', '0 0 -2'); // fallback
          }
          model.setAttribute('visible', 'true');
        }
      });
    </script>
  </body>
</html>
